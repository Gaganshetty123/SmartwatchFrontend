<div class="repair-issues-wrapper">
  <div class="repair-issues-background">
    <div class="animated-gears"></div>
  </div>
 
  <div class="repair-issues-container">
    <div class="repair-issues-header">
      <div class="header-left">
        <h1 class="page-title">Repair Issues</h1>
        <p class="page-subtitle">Manage smartwatch repair issues and pricing</p>
      </div>
      <div class="header-right">
        <span class="timestamp"><i class="fa fa-clock"></i> 2025-04-15 10:00:25</span>
        <span class="username"><i class="fa fa-user-circle"></i> SamaSir2003</span>
      </div>
    </div>
 
    <div class="data-container">
      <!-- <div class="data-header">
        <h2 class="section-title">All Repair Issues</h2>
        <div class="header-actions">
          <div class="search-box">
            <i class="fa fa-search"></i>
            <input type="text" placeholder="Search issues...">
          </div>
          <button class="btn btn-primary">
            <i class="fa fa-plus"></i> New Issue
          </button>
        </div>
      </div> -->
 
      <!-- Display list of repair issues -->
      <div *ngIf="repairIssues && repairIssues.length > 0" class="table-wrapper">
        <table class="repair-issues-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Device Model ID</th>
              <th>Issue Name</th>
              <th>Base Price</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let repairIssue of repairIssues" class="issue-row">
              <td class="issue-id">{{ repairIssue.id }}</td>
              <td class="model-id">
                <div class="model-badge">
                  <i class="fa fa-mobile-alt"></i>
                  <span>{{ repairIssue.deviceModelId }}</span>
                </div>
              </td>
 
              <!-- Issue Name Column: Editable when isEditing is true -->
              <td class="issue-name">
                <ng-container *ngIf="isEditing[repairIssue.id]; else issueNameDisplay">
                  <div class="input-with-icon small">
                    <i class="fa fa-tools"></i>
                    <input [(ngModel)]="repairIssue.issueName" />
                  </div>
                </ng-container>
                <ng-template #issueNameDisplay>
                  <div class="issue-name-display">
                    <i class="fa fa-tools"></i>
                    <span>{{ repairIssue.issueName }}</span>
                  </div>
                </ng-template>
              </td>
 
              <!-- Base Price Column: Editable when isEditing is true -->
              <td class="price-column">
                <ng-container *ngIf="isEditing[repairIssue.id]; else priceDisplay">
                  <div class="input-with-icon small">
                    <i class="fa fa-dollar-sign"></i>
                    <input [(ngModel)]="repairIssue.basePrice" type="number" step="0.01" />
                  </div>
                </ng-container>
                <ng-template #priceDisplay>
                  <div class="price-badge">
                    <span>{{ repairIssue.basePrice | currency }}</span>
                  </div>
                </ng-template>
              </td>
 
              <td class="action-buttons">
                <ng-container *ngIf="!isEditing[repairIssue.id]; else saveBtn">
                  <!-- <button class="action-btn edit" (click)="onEdit(repairIssue.id)">
                    <i class="fa fa-pen"></i> Edit
                  </button> -->
                  <button class="action-btn delete">
                    <i class="fa fa-trash"></i>
                  </button>
                </ng-container>
                <ng-template #saveBtn>
                  <button class="action-btn save" (click)="onUpdate(repairIssue)">
                    <i class="fa fa-check"></i> Save
                  </button>
                  <button class="action-btn cancel" (click)="isEditing[repairIssue.id] = false">
                    <i class="fa fa-times"></i> Cancel
                  </button>
                </ng-template>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
 
      <!-- Display message if no repair issues -->
      <div *ngIf="repairIssues && repairIssues.length === 0" class="no-data-container">
        <div class="no-data-icon">
          <i class="fa fa-tools"></i>
        </div>
        <h3>No Repair Issues Found</h3>
        <p>Add a repair issue to get started</p>
      </div>
 
      <!-- <div class="table-footer">
        <div class="pagination">
          <button class="pagination-btn"><i class="fa fa-chevron-left"></i></button>
          <span class="pagination-info">Page 1 of 3</span>
          <button class="pagination-btn"><i class="fa fa-chevron-right"></i></button>
        </div>
        <div class="items-per-page">
          <span>Items per page:</span>
          <select>
            <option>10</option>
            <option>25</option>
            <option>50</option>
          </select>
        </div>
      </div> -->
    </div>
  </div>
</div>